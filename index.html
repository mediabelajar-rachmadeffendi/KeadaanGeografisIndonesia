import React, { useState, useEffect, useMemo } from 'react';
import { 
  Globe, 
  Map as MapIcon, 
  Mountain, 
  Wind, 
  User, 
  School, 
  ClipboardList, 
  ChevronRight, 
  ChevronLeft,
  Award,
  Menu,
  X,
  BookOpen,
  CheckCircle,
  Loader2
} from 'lucide-react';

// --- KONFIGURASI ---
const GOOGLE_SCRIPT_URL = "https://script.google.com/macros/s/AKfycby9H4Air0C5hHnqPsL23VBsuDsxKAIsVOU72TuxSQ8NXmpFaEP9D5HyvkRvjPf7-_WZ/exec";

// --- STYLES (Injected CSS for Animations & Gradients) ---
const CustomStyles = () => (
  <style>{`
    @import url('https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;600;700;800;900&family=Raleway:wght@700;800&display=swap');
    
    body { font-family: 'Nunito', sans-serif; }
    .font-raleway { font-family: 'Raleway', sans-serif; }
    
    .gradient-primary { background: linear-gradient(135deg, #dc2626 0%, #b91c1c 50%, #991b1b 100%); }
    .gradient-hero { background: linear-gradient(135deg, #1e3a8a 0%, #1e40af 50%, #2563eb 100%); }
    
    .card-shine {
      background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
      border: 1px solid #e2e8f0;
      transition: all 0.3s ease;
    }
    .card-shine:hover {
      box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
      transform: translateY(-4px);
    }

    .animate-fade-in { animation: fadeIn 0.6s ease-in-out; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

    .animate-bounce-in { animation: bounceIn 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55); }
    @keyframes bounceIn {
      0% { opacity: 0; transform: scale(0.3); }
      50% { opacity: 1; transform: scale(1.05); }
      70% { transform: scale(0.9); }
      100% { transform: scale(1); }
    }

    .quiz-option { transition: all 0.2s ease; cursor: pointer; border: 2px solid #e2e8f0; }
    .quiz-option:hover { border-color: #3b82f6; background: #eff6ff; }
    .quiz-option.selected { border-color: #dc2626; background: #fef2f2; }
    
    /* Custom Scrollbar */
    ::-webkit-scrollbar { width: 8px; }
    ::-webkit-scrollbar-track { background: #f1f5f9; }
    ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
    ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
  `}</style>
);

// --- DATA ---
const questions = [
  { id: 1, question: "Berapa luas wilayah daratan Indonesia?", options: ["1.910.931,32 kmÂ²", "3.257.483 kmÂ²", "5.100.000 kmÂ²", "2.500.000 kmÂ²"], answer: "1.910.931,32 kmÂ²" },
  { id: 2, question: "Negara mana yang berbatasan langsung dengan wilayah Indonesia bagian Utara?", options: ["Timor Leste", "Malaysia", "Australia", "Papua Nugini"], answer: "Malaysia" },
  { id: 3, question: "Samudra yang membatasi wilayah Indonesia di bagian Barat adalah...", options: ["Samudra Pasifik", "Samudra Atlantik", "Samudra Hindia", "Samudra Arktik"], answer: "Samudra Hindia" },
  { id: 4, question: "Batas wilayah Indonesia di bagian Timur adalah...", options: ["Malaysia", "Filipina", "Papua Nugini", "Timor Leste"], answer: "Papua Nugini" },
  { id: 5, question: "Secara astronomis, Indonesia terletak pada lintang...", options: ["6Â° LU â€“ 11Â° LS", "11Â° LU â€“ 6Â° LS", "0Â° â€“ 10Â° LS", "23,5Â° LU â€“ 23,5Â° LS"], answer: "6Â° LU â€“ 11Â° LS" },
  { id: 6, question: "Berdasarkan letak astronomisnya, iklim di Indonesia adalah...", options: ["Subtropis", "Tropis", "Sedang", "Dingin"], answer: "Tropis" },
  { id: 7, question: "Zona waktu WIB (Waktu Indonesia Barat) mencakup wilayah...", options: ["Bali dan Nusa Tenggara", "Maluku dan Papua", "Sumatra dan Jawa", "Sulawesi dan Kalimantan Timur"], answer: "Sumatra dan Jawa" },
  { id: 8, question: "Provinsi Bali dan Sulawesi termasuk dalam zona waktu...", options: ["WIB", "WITA", "WIT", "GMT+9"], answer: "WITA" },
  { id: 9, question: "Selisih waktu antara WIB dan GMT adalah...", options: ["+7 Jam", "+8 Jam", "+9 Jam", "+6 Jam"], answer: "+7 Jam" },
  { id: 10, question: "Secara geografis, Indonesia diapit oleh dua benua, yaitu...", options: ["Asia dan Afrika", "Asia dan Eropa", "Asia dan Australia", "Australia dan Amerika"], answer: "Asia dan Australia" },
  { id: 11, question: "Salah satu keuntungan letak geografis Indonesia di bidang ekonomi adalah...", options: ["Rawan gempa bumi", "Menjadi jalur perdagangan internasional", "Memiliki banyak gunung berapi", "Bebas dari angin taifun"], answer: "Menjadi jalur perdagangan internasional" },
  { id: 12, question: "Pertemuan tiga lempeng besar dunia di Indonesia adalah...", options: ["Indo-Australia, Eurasia, Pasifik", "Eurasia, Afrika, Pasifik", "Indo-Australia, Antartika, Pasifik", "Eurasia, Pasifik, Nazca"], answer: "Indo-Australia, Eurasia, Pasifik" },
  { id: 13, question: "Dampak negatif dari letak geologis Indonesia adalah...", options: ["Tanah menjadi tandus", "Iklim menjadi sangat dingin", "Rawan terjadi gempa bumi", "Tidak memiliki musim kemarau"], answer: "Rawan terjadi gempa bumi" },
  { id: 14, question: "Bentang alam dengan ketinggian > 1.500 m dpl yang terbentuk dari aktivitas magma disebut...", options: ["Bukit", "Dataran Tinggi", "Gunung", "Dataran Rendah"], answer: "Gunung" },
  { id: 15, question: "Dataran tinggi yang memiliki puncak datar disebut...", options: ["Lembah", "Ngarai", "Plato", "Delta"], answer: "Plato" },
  { id: 16, question: "Wilayah dataran rendah biasanya dimanfaatkan untuk...", options: ["Pusat industri dan bisnis", "Perkebunan teh", "Konservasi edelweiss", "Pembangkit listrik tenaga angin"], answer: "Pusat industri dan bisnis" },
  { id: 17, question: "Berapa proporsi wilayah lautan Indonesia dibandingkan total wilayah?", options: ["Sekitar 30%", "Sekitar 50%", "Sekitar 60%", "Sekitar 80%"], answer: "Sekitar 60%" },
  { id: 18, question: "Mengapa kelembapan udara di Indonesia tergolong tinggi?", options: ["Karena banyak gunung berapi", "Karena merupakan negara kepulauan di khatulistiwa", "Karena memiliki hutan yang sedikit", "Karena curah hujan rendah"], answer: "Karena merupakan negara kepulauan di khatulistiwa" },
  { id: 19, question: "Wilayah Indonesia umumnya bebas dari angin Taifun karena pengaruh...", options: ["Gaya Gravitasi", "Gaya Magnet", "Gaya Coriolis", "Gaya Gesek"], answer: "Gaya Coriolis" },
  { id: 20, question: "Angin Muson Timur yang berembus pada Aprilâ€“Oktober menyebabkan musim...", options: ["Penghujan", "Kemarau", "Salju", "Semi"], answer: "Kemarau" },
  { id: 21, question: "Angin Muson Barat berembus dari...", options: ["Australia ke Asia", "Asia ke Australia", "Samudra Pasifik ke Hindia", "Samudra Hindia ke Pasifik"], answer: "Asia ke Australia" },
  { id: 22, question: "Suhu rata-rata di wilayah Indonesia adalah...", options: ["Di bawah 10Â°C", "Antara 10Â°C - 15Â°C", "Di atas 18Â°C", "Sangat bervariasi ekstrem"], answer: "Di atas 18Â°C" },
  { id: 23, question: "Bukit berbeda dengan gunung karena...", options: ["Ukurannya lebih kecil dan sumber air terbatas", "Lebih tinggi dari gunung", "Selalu mengeluarkan magma", "Tidak bisa ditanami"], answer: "Ukurannya lebih kecil dan sumber air terbatas" },
  { id: 24, question: "Samudra yang berada di sebelah Timur wilayah Indonesia adalah...", options: ["Hindia", "Atlantik", "Pasifik", "Selatan"], answer: "Pasifik" },
  { id: 25, question: "Akulturasi budaya di Indonesia terjadi karena dampak dari...", options: ["Letak Geologis", "Letak Astronomis", "Letak Geografis", "Bentuk Kepulauan"], answer: "Letak Geografis" }
];

const classOptions = ["X TKP A", "X TPTUP A", "X TPTUP C", "X RPL A", "X RPL B"];

// --- COMPONENTS ---

// 1. Header Component
const Header = ({ activeTab, setActiveTab, toggleMenu, isMenuOpen }) => (
  <header className="gradient-primary text-white shadow-2xl sticky top-0 z-50">
    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div className="flex justify-between h-20 items-center">
        <div className="flex items-center space-x-3">
          <div className="w-12 h-12 bg-white rounded-full flex items-center justify-center shadow-lg text-2xl">
            ğŸ‡®ğŸ‡©
          </div>
          <div className="flex flex-col">
            <span className="font-raleway font-bold text-xl leading-tight">Media Belajar Geografis</span>
            <span className="text-sm text-red-100">SMK - Proyek IPAS</span>
          </div>
        </div>
        
        {/* Desktop Menu */}
        <nav className="hidden md:flex space-x-2">
          {['Beranda', 'Materi', 'Uji Pemahaman', 'Nilai Siswa'].map((item) => (
            <button
              key={item}
              onClick={() => setActiveTab(item)}
              className={`px-4 py-2 rounded-lg text-sm font-bold transition-all duration-300 ${
                activeTab === item 
                ? 'bg-white text-red-700 shadow-lg transform -translate-y-1' 
                : 'text-white hover:bg-white/20'
              }`}
            >
              {item === 'Beranda' && 'ğŸ  '}
              {item === 'Materi' && 'ğŸ“š '}
              {item === 'Uji Pemahaman' && 'ğŸ“ '}
              {item === 'Nilai Siswa' && 'ğŸ† '}
              {item}
            </button>
          ))}
        </nav>

        {/* Mobile Menu Button */}
        <div className="md:hidden">
          <button onClick={toggleMenu} className="text-white hover:bg-white/20 p-2 rounded-lg transition">
            {isMenuOpen ? <X className="h-6 w-6" /> : <Menu className="h-6 w-6" />}
          </button>
        </div>
      </div>
    </div>

    {/* Mobile Dropdown */}
    {isMenuOpen && (
      <div className="md:hidden bg-red-900 border-t border-red-800 animate-fade-in">
        <div className="px-2 pt-2 pb-3 space-y-1 sm:px-3">
          {['Beranda', 'Materi', 'Uji Pemahaman', 'Nilai Siswa'].map((item) => (
            <button
              key={item}
              onClick={() => { setActiveTab(item); toggleMenu(); }}
              className={`block px-3 py-3 rounded-md text-base font-bold w-full text-left ${
                activeTab === item ? 'bg-red-950 text-white border-l-4 border-white' : 'text-red-100 hover:bg-red-800'
              }`}
            >
              {item}
            </button>
          ))}
        </div>
      </div>
    )}
  </header>
);

// 2. Beranda (Home) Section
const HomeSection = ({ setActiveTab }) => (
  <div className="animate-fade-in">
    {/* Hero */}
    <div className="gradient-hero rounded-3xl p-8 md:p-12 mb-8 text-white shadow-2xl relative overflow-hidden">
      <div className="relative z-10 max-w-3xl">
        <h2 className="font-raleway text-4xl md:text-5xl font-bold mb-4 animate-bounce-in">Selamat Datang! ğŸ‰</h2>
        <p className="text-xl md:text-2xl mb-6 text-blue-100">Mari belajar tentang kondisi dan letak geografis Indonesia</p>
        <p className="text-lg mb-8 text-blue-50">Indonesia adalah negara kepulauan terbesar di dunia dengan keunikan geografis yang luar biasa. Yuk eksplorasi!</p>
        <button 
          onClick={() => setActiveTab('Materi')}
          className="bg-white text-blue-700 px-8 py-4 rounded-xl font-bold text-lg shadow-xl hover:shadow-2xl hover:scale-105 transition-all flex items-center gap-2"
        >
          ğŸš€ Mulai Belajar
        </button>
      </div>
      {/* Decorative BG Element */}
      <div className="absolute right-0 bottom-0 opacity-10">
        <Globe size={400} />
      </div>
    </div>

    {/* Features */}
    <div className="grid md:grid-cols-3 gap-6 mb-8">
      {[
        { icon: <BookOpen className="w-10 h-10 text-blue-600" />, title: "Materi Lengkap", desc: "Pelajari luas wilayah, batas, letak astronomis, geografis, geologis, dan bentang alam." },
        { icon: <ClipboardList className="w-10 h-10 text-green-600" />, title: "25 Soal Kuis", desc: "Uji pemahamanmu dengan 25 soal pilihan ganda yang menarik dan menantang." },
        { icon: <Award className="w-10 h-10 text-amber-500" />, title: "Lihat Nilaimu", desc: "Hasil ujian otomatis tersimpan dan dapat dilihat langsung di menu Nilai Siswa." }
      ].map((item, idx) => (
        <div key={idx} className="card-shine rounded-2xl p-6 bg-white">
          <div className="mb-4">{item.icon}</div>
          <h3 className="font-raleway text-xl font-bold text-gray-800 mb-2">{item.title}</h3>
          <p className="text-gray-600">{item.desc}</p>
        </div>
      ))}
    </div>

    {/* Stats */}
    <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
      {[
        { val: "1.9 Juta", label: "kmÂ² Daratan", color: "from-red-500 to-red-600", text: "text-red-100" },
        { val: "3.2 Juta", label: "kmÂ² Perairan", color: "from-blue-500 to-blue-600", text: "text-blue-100" },
        { val: "17.000+", label: "Pulau", color: "from-green-500 to-green-600", text: "text-green-100" },
        { val: "3 Zona", label: "Waktu", color: "from-amber-500 to-amber-600", text: "text-amber-100" }
      ].map((stat, idx) => (
        <div key={idx} className={`bg-gradient-to-br ${stat.color} rounded-2xl p-6 text-white text-center shadow-xl transform hover:-translate-y-1 transition-all`}>
          <p className="font-raleway text-2xl md:text-3xl font-bold">{stat.val}</p>
          <p className={`${stat.text} text-sm font-medium`}>{stat.label}</p>
        </div>
      ))}
    </div>
  </div>
);

// 3. Materi Section with SVG Visuals
const MateriSection = ({ setActiveTab }) => {
  const [activeSlide, setActiveSlide] = useState(0);

  const slides = [
    {
      title: "1. Luas & Batas Wilayah",
      icon: <MapIcon className="w-6 h-6" />,
      color: "blue",
      content: (
        <div>
          {/* Ilustrasi Peta SVG */}
          <div className="bg-gradient-to-br from-blue-100 to-cyan-50 rounded-2xl p-6 mb-6 shadow-inner border border-blue-200">
             <svg viewBox="0 0 800 400" className="w-full h-auto drop-shadow-lg rounded-xl">
               <rect width="800" height="400" fill="#e0f2fe" rx="15" />
               {/* Simplified Islands */}
               <ellipse cx="150" cy="200" rx="40" ry="120" fill="#16a34a" transform="rotate(-20 150 200)" />
               <ellipse cx="320" cy="160" rx="80" ry="70" fill="#15803d" />
               <path d="M 450 180 Q 460 160 470 180 Q 480 170 485 190 Q 475 210 465 200 Q 455 210 450 180" fill="#166534" />
               <ellipse cx="650" cy="200" rx="70" ry="50" fill="#14532d" transform="rotate(-10 650 200)" />
               <ellipse cx="340" cy="280" rx="100" ry="20" fill="#22c55e" />
               <ellipse cx="480" cy="285" rx="60" ry="12" fill="#4ade80" />
               <circle cx="580" cy="180" r="15" fill="#86efac" />
               <circle cx="600" cy="190" r="12" fill="#86efac" />
               {/* Labels */}
               <text x="150" y="200" textAnchor="middle" fill="white" fontSize="14" fontWeight="bold">Sumatra</text>
               <text x="320" y="165" textAnchor="middle" fill="white" fontSize="14" fontWeight="bold">Kalimantan</text>
               <text x="340" y="283" textAnchor="middle" fill="white" fontSize="12" fontWeight="bold">Jawa</text>
               <text x="650" y="205" textAnchor="middle" fill="white" fontSize="14" fontWeight="bold">Papua</text>
               {/* Borders */}
               <text x="400" y="30" textAnchor="middle" fill="#dc2626" fontSize="16" fontWeight="bold">â† Malaysia, Filipina</text>
               <text x="400" y="370" textAnchor="middle" fill="#dc2626" fontSize="16" fontWeight="bold">Australia, Timor Leste â†’</text>
               <text x="40" y="200" textAnchor="middle" fill="#dc2626" fontSize="14" fontWeight="bold" transform="rotate(-90 40 200)">Samudra Hindia</text>
               <text x="760" y="200" textAnchor="middle" fill="#dc2626" fontSize="14" fontWeight="bold" transform="rotate(90 760 200)">Samudra Pasifik</text>
             </svg>
          </div>
          
          <div className="grid md:grid-cols-2 gap-6">
            <div className="bg-blue-50 rounded-xl p-5 border-l-4 border-blue-500 shadow-sm">
              <h4 className="font-bold text-blue-900 mb-3 text-lg">ğŸ“ Luas Wilayah</h4>
              <ul className="space-y-2 text-gray-700 text-sm">
                <li className="flex items-start gap-2"><span className="text-blue-600 font-bold">â€¢</span> <span><strong>Daratan:</strong> 1.910.931,32 kmÂ²</span></li>
                <li className="flex items-start gap-2"><span className="text-blue-600 font-bold">â€¢</span> <span><strong>Perairan:</strong> 3.257.483 kmÂ²</span></li>
                <li className="flex items-start gap-2"><span className="text-blue-600 font-bold">â€¢</span> <span><strong>Total:</strong> Lebih dari 5 juta kmÂ²</span></li>
              </ul>
            </div>
            <div className="bg-green-50 rounded-xl p-5 border-l-4 border-green-500 shadow-sm">
              <h4 className="font-bold text-green-900 mb-3 text-lg">ğŸ§­ Batas Wilayah</h4>
              <ul className="space-y-2 text-gray-700 text-sm">
                <li className="flex gap-2"><span className="px-2 py-0.5 rounded-full bg-red-200 text-red-800 text-xs font-bold">Utara</span> <span>Malaysia, Palau, Filipina</span></li>
                <li className="flex gap-2"><span className="px-2 py-0.5 rounded-full bg-green-200 text-green-800 text-xs font-bold">Selatan</span> <span>Timor Leste, Australia</span></li>
                <li className="flex gap-2"><span className="px-2 py-0.5 rounded-full bg-amber-200 text-amber-800 text-xs font-bold">Barat</span> <span>Samudra Hindia</span></li>
                <li className="flex gap-2"><span className="px-2 py-0.5 rounded-full bg-blue-200 text-blue-800 text-xs font-bold">Timur</span> <span>Papua Nugini, Sam. Pasifik</span></li>
              </ul>
            </div>
          </div>
        </div>
      )
    },
    {
      title: "2. Letak Wilayah",
      icon: <Globe className="w-6 h-6" />,
      color: "purple",
      content: (
        <div className="space-y-6">
          {/* Astronomis */}
          <div className="bg-purple-50 rounded-xl p-5 border-l-4 border-purple-500">
            <h4 className="font-bold text-purple-900 mb-3 text-lg flex items-center gap-2">â­ Letak Astronomis</h4>
            <div className="bg-white rounded-xl p-4 mb-4 shadow-sm border border-purple-100">
              <svg viewBox="0 0 600 250" className="w-full h-auto">
                <defs>
                  <pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse">
                    <path d="M 40 0 L 0 0 0 40" fill="none" stroke="#e5e7eb" strokeWidth="1" />
                  </pattern>
                </defs>
                <rect width="600" height="250" fill="url(#grid)" />
                {/* Khatulistiwa */}
                <line x1="0" y1="125" x2="600" y2="125" stroke="#ef4444" strokeWidth="2" strokeDasharray="10,5" />
                <text x="500" y="120" fill="#dc2626" fontSize="12" fontWeight="bold">Khatulistiwa (0Â°)</text>
                {/* Lat/Long Lines */}
                <line x1="0" y1="50" x2="600" y2="50" stroke="#9333ea" strokeWidth="2" />
                <text x="10" y="45" fill="#9333ea" fontSize="12" fontWeight="bold">6Â° LU</text>
                <line x1="0" y1="200" x2="600" y2="200" stroke="#9333ea" strokeWidth="2" />
                <text x="10" y="215" fill="#9333ea" fontSize="12" fontWeight="bold">11Â° LS</text>
                <line x1="100" y1="0" x2="100" y2="250" stroke="#2563eb" strokeWidth="2" />
                <text x="75" y="240" fill="#2563eb" fontSize="12" fontWeight="bold">95Â° BT</text>
                <line x1="500" y1="0" x2="500" y2="250" stroke="#2563eb" strokeWidth="2" />
                <text x="460" y="240" fill="#2563eb" fontSize="12" fontWeight="bold">141Â° BT</text>
                {/* Indonesia Area */}
                <rect x="100" y="50" width="400" height="150" fill="#16a34a" opacity="0.4" rx="10" />
                <text x="300" y="130" textAnchor="middle" fill="#15803d" fontSize="20" fontWeight="bold">INDONESIA</text>
                {/* Time Zones */}
                <text x="180" y="160" textAnchor="middle" fill="#1e40af" fontSize="14" fontWeight="bold">WIB</text>
                <text x="300" y="160" textAnchor="middle" fill="#6d28d9" fontSize="14" fontWeight="bold">WITA</text>
                <text x="420" y="160" textAnchor="middle" fill="#be185d" fontSize="14" fontWeight="bold">WIT</text>
              </svg>
            </div>
            <div className="grid md:grid-cols-2 gap-4 text-sm">
               <div className="bg-white p-3 rounded shadow-sm">
                  <strong>âœ… Dampak:</strong> Iklim tropis, suhu stabil, curah hujan tinggi.
               </div>
               <div className="bg-white p-3 rounded shadow-sm">
                  <strong>ğŸ•’ Waktu:</strong> Terbagi 3 zona (WIB, WITA, WIT).
               </div>
            </div>
          </div>

          {/* Geologis */}
          <div className="bg-orange-50 rounded-xl p-5 border-l-4 border-orange-500">
            <h4 className="font-bold text-orange-900 mb-3 text-lg flex items-center gap-2">ğŸŒ‹ Letak Geologis</h4>
            <p className="text-gray-700 text-sm mb-3">Pertemuan 3 lempeng besar: Indo-Australia, Eurasia, dan Pasifik.</p>
            <div className="bg-gradient-to-br from-orange-100 to-red-100 rounded-xl p-4 mb-4 shadow-sm border border-orange-200">
               <svg viewBox="0 0 700 250" className="w-full h-auto">
                 {/* Plates */}
                 <path d="M 0 0 L 700 0 L 700 100 Q 350 120 0 100 Z" fill="#fbbf24" opacity="0.6" />
                 <text x="350" y="50" textAnchor="middle" fill="#78350f" fontSize="16" fontWeight="bold">LEMPENG EURASIA</text>
                 <path d="M 0 100 Q 200 110 350 120 L 350 250 L 0 250 Z" fill="#fb923c" opacity="0.6" />
                 <text x="175" y="200" textAnchor="middle" fill="#7c2d12" fontSize="14" fontWeight="bold">INDO-AUSTRALIA</text>
                 <path d="M 350 120 Q 500 130 700 100 L 700 250 L 350 250 Z" fill="#f97316" opacity="0.6" />
                 <text x="525" y="200" textAnchor="middle" fill="#7c2d12" fontSize="14" fontWeight="bold">PASIFIK</text>
                 {/* Ring of Fire Line */}
                 <path d="M 100 100 Q 350 120 600 100" stroke="#dc2626" strokeWidth="4" fill="none" strokeDasharray="10,5" />
                 <text x="350" y="90" textAnchor="middle" fill="#dc2626" fontSize="12" fontWeight="bold">ğŸ”¥ Ring of Fire ğŸ”¥</text>
                 {/* Volcanoes */}
                 <text x="250" y="115" fontSize="16">ğŸŒ‹</text>
                 <text x="350" y="125" fontSize="16">ğŸŒ‹</text>
                 <text x="450" y="115" fontSize="16">ğŸŒ‹</text>
               </svg>
            </div>
            <div className="grid md:grid-cols-2 gap-4 text-sm">
               <div className="bg-white p-3 rounded shadow-sm">
                  <strong>âš ï¸ Resiko:</strong> Gempa bumi & Tsunami.
               </div>
               <div className="bg-white p-3 rounded shadow-sm">
                  <strong>âœ¨ Manfaat:</strong> Tanah subur (vulkanik) & Kaya mineral.
               </div>
            </div>
          </div>
        </div>
      )
    },
    {
      title: "3. Bentang Alam",
      icon: <Mountain className="w-6 h-6" />,
      color: "emerald",
      content: (
        <div>
          <div className="bg-gradient-to-br from-sky-100 to-blue-50 rounded-2xl p-6 mb-6 shadow-inner border border-sky-200">
            <svg viewBox="0 0 800 300" className="w-full h-auto">
              {/* Sky */}
              <defs>
                <linearGradient id="skyGrad" x1="0%" y1="0%" x2="0%" y2="100%">
                  <stop offset="0%" stopColor="#38bdf8" stopOpacity="0.3" />
                  <stop offset="100%" stopColor="#0ea5e9" stopOpacity="0.1" />
                </linearGradient>
              </defs>
              <rect width="800" height="300" fill="url(#skyGrad)" />
              {/* Laut */}
              <rect y="220" width="800" height="80" fill="#0ea5e9" opacity="0.3" />
              <text x="50" y="270" fill="#0369a1" fontSize="14" fontWeight="bold">Laut (0 m)</text>
              {/* Dataran Rendah */}
              <rect x="150" y="200" width="150" height="100" fill="#84cc16" />
              <text x="225" y="250" textAnchor="middle" fill="white" fontSize="12" fontWeight="bold">Dataran Rendah</text>
              <text x="225" y="295" textAnchor="middle" fill="#365314" fontSize="10" fontWeight="bold">0-200 m</text>
              {/* Bukit */}
              <ellipse cx="380" cy="190" rx="70" ry="50" fill="#22c55e" />
              <ellipse cx="420" cy="180" rx="60" ry="55" fill="#16a34a" />
              <text x="400" y="200" textAnchor="middle" fill="white" fontSize="12" fontWeight="bold">Bukit</text>
              {/* Plato */}
              <rect x="510" y="150" width="100" height="150" fill="#059669" />
              <text x="560" y="200" textAnchor="middle" fill="white" fontSize="12" fontWeight="bold">Plato</text>
              <text x="560" y="295" textAnchor="middle" fill="#064e3b" fontSize="10" fontWeight="bold">{`>500 m`}</text>
              {/* Gunung */}
              <polygon points="700,100 650,220 750,220" fill="#78350f" />
              <polygon points="700,100 695,120 705,120" fill="#ef4444" />
              <text x="700" y="245" textAnchor="middle" fill="#78350f" fontSize="12" fontWeight="bold">Gunung</text>
              <text x="700" y="295" textAnchor="middle" fill="#78350f" fontSize="10" fontWeight="bold">{`>1.500 m`}</text>
              {/* Sun */}
              <circle cx="720" cy="40" r="25" fill="#fbbf24" />
            </svg>
          </div>
          
          <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
             <div className="bg-gradient-to-br from-slate-700 to-slate-800 rounded-xl p-4 text-white shadow-lg text-center">
               <div className="text-3xl mb-2">â›°ï¸</div>
               <h4 className="font-bold text-sm mb-1">Gunung</h4>
               <p className="text-slate-200 text-xs">{`>1.500 m`}</p>
             </div>
             <div className="bg-gradient-to-br from-green-600 to-green-700 rounded-xl p-4 text-white shadow-lg text-center">
               <div className="text-3xl mb-2">ğŸï¸</div>
               <h4 className="font-bold text-sm mb-1">Bukit</h4>
               <p className="text-green-200 text-xs">200-1.500 m</p>
             </div>
             <div className="bg-gradient-to-br from-amber-500 to-amber-600 rounded-xl p-4 text-white shadow-lg text-center">
               <div className="text-3xl mb-2">ğŸŒ¾</div>
               <h4 className="font-bold text-sm mb-1">Dataran Rendah</h4>
               <p className="text-amber-200 text-xs">0-200 m</p>
             </div>
             <div className="bg-gradient-to-br from-teal-600 to-teal-700 rounded-xl p-4 text-white shadow-lg text-center">
               <div className="text-3xl mb-2">ğŸ•ï¸</div>
               <h4 className="font-bold text-sm mb-1">Dataran Tinggi</h4>
               <p className="text-teal-200 text-xs">{`>500 m`}</p>
             </div>
          </div>
        </div>
      )
    },
    {
      title: "4. Karakteristik",
      icon: <Wind className="w-6 h-6" />,
      color: "cyan",
      content: (
        <div className="grid md:grid-cols-2 gap-6">
          <div className="space-y-4">
            <div className="bg-sky-50 rounded-xl p-5 border-l-4 border-sky-500 shadow-sm">
              <h4 className="font-bold text-sky-900 mb-2 flex items-center gap-2">ğŸ’§ Kelembapan Tinggi</h4>
              <p className="text-gray-700 text-sm">70-90% karena dikelilingi lautan luas.</p>
            </div>
            <div className="bg-emerald-50 rounded-xl p-5 border-l-4 border-emerald-500 shadow-sm">
              <h4 className="font-bold text-emerald-900 mb-2 flex items-center gap-2">ğŸŒªï¸ Bebas Taifun</h4>
              <p className="text-gray-700 text-sm">Efek Coriolis melindungi Indonesia dari angin taifun.</p>
            </div>
            <div className="bg-rose-50 rounded-xl p-5 border-l-4 border-rose-500 shadow-sm">
              <h4 className="font-bold text-rose-900 mb-2 flex items-center gap-2">ğŸŒ¡ï¸ Suhu Stabil</h4>
              <p className="text-gray-700 text-sm">Rata-rata 26-28Â°C sepanjang tahun.</p>
            </div>
          </div>
          
          <div className="bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl p-6 text-white shadow-xl">
             <h4 className="font-raleway font-bold text-xl mb-4">ğŸŒ¬ï¸ Angin Muson</h4>
             <div className="bg-white rounded-xl p-4 mb-4 text-gray-800">
               <svg viewBox="0 0 400 200" className="w-full h-auto">
                 {/* Backgrounds */}
                 <rect width="400" height="100" fill="#fef3c7" />
                 <rect y="100" width="400" height="100" fill="#dbeafe" />
                 <text x="200" y="20" textAnchor="middle" fill="#92400e" fontSize="12" fontWeight="bold">ASIA</text>
                 <text x="200" y="190" textAnchor="middle" fill="#1e3a8a" fontSize="12" fontWeight="bold">AUSTRALIA</text>
                 {/* Indonesia */}
                 <circle cx="200" cy="100" r="20" fill="#16a34a" />
                 <text x="200" y="105" textAnchor="middle" fill="white" fontSize="8">IND</text>
                 {/* Arrows */}
                 <path d="M 50 40 Q 200 60 350 70" stroke="#f97316" strokeWidth="3" fill="none" markerEnd="url(#arrowOrange)" />
                 <text x="50" y="30" fill="#f97316" fontSize="10" fontWeight="bold">Barat (Hujan)</text>
                 
                 <path d="M 350 160 Q 200 140 50 130" stroke="#0ea5e9" strokeWidth="3" fill="none" />
                 <text x="300" y="180" fill="#0ea5e9" fontSize="10" fontWeight="bold">Timur (Kemarau)</text>
               </svg>
             </div>
             <div className="space-y-3 text-sm">
                <div className="flex items-center gap-2">
                  <span className="text-xl">ğŸŒ§ï¸</span>
                  <div>
                    <strong className="block">Muson Barat (Okt-Apr)</strong>
                    <span className="text-blue-200">Menyebabkan musim hujan</span>
                  </div>
                </div>
                <div className="flex items-center gap-2">
                  <span className="text-xl">â˜€ï¸</span>
                  <div>
                    <strong className="block">Muson Timur (Apr-Okt)</strong>
                    <span className="text-blue-200">Menyebabkan musim kemarau</span>
                  </div>
                </div>
             </div>
          </div>
        </div>
      )
    }
  ];

  return (
    <div className="animate-fade-in">
      <div className="text-center mb-8">
        <h2 className="font-raleway text-3xl md:text-4xl font-bold text-gray-800 mb-3">ğŸ“š Materi Pembelajaran</h2>
        <p className="text-gray-600">Pilih topik di bawah ini untuk mempelajari materi</p>
      </div>

      <div className="flex flex-col md:flex-row gap-6">
        {/* Navigation Sidebar */}
        <div className="w-full md:w-1/3 space-y-3">
          {slides.map((slide, index) => (
            <button
              key={index}
              onClick={() => setActiveSlide(index)}
              className={`w-full text-left p-4 rounded-xl transition-all duration-300 flex items-center space-x-3 border-l-4 shadow-sm ${
                activeSlide === index 
                ? `bg-white border-${slide.color}-500 shadow-md transform translate-x-2` 
                : 'bg-white border-transparent hover:bg-gray-50'
              }`}
            >
              <div className={`p-2 rounded-lg bg-${slide.color}-100 text-${slide.color}-600`}>
                {React.cloneElement(slide.icon, { className: "w-5 h-5" })}
              </div>
              <span className={`font-bold ${activeSlide === index ? 'text-gray-800' : 'text-gray-500'}`}>{slide.title}</span>
              {activeSlide === index && <ChevronRight className="w-5 h-5 ml-auto text-gray-400" />}
            </button>
          ))}
        </div>

        {/* Content Area */}
        <div className="w-full md:w-2/3">
           <div className="card-shine bg-white p-6 md:p-8 rounded-2xl animate-fade-in min-h-[500px]">
              <div className="flex items-center space-x-3 mb-6 border-b pb-4">
                 <div className={`p-3 rounded-xl bg-${slides[activeSlide].color}-100 text-${slides[activeSlide].color}-600`}>
                    {React.cloneElement(slides[activeSlide].icon, { className: "w-8 h-8" })}
                 </div>
                 <h3 className="font-raleway text-2xl font-bold text-gray-800">{slides[activeSlide].title}</h3>
              </div>
              {slides[activeSlide].content}
           </div>
           
           <div className="mt-8 text-center">
             <button onClick={() => setActiveTab('Uji Pemahaman')} className="gradient-primary text-white px-8 py-3 rounded-xl font-bold shadow-lg hover:shadow-xl hover:scale-105 transition-all">
               ğŸ“ Lanjut ke Uji Pemahaman
             </button>
           </div>
        </div>
      </div>
    </div>
  );
};

// 4. Quiz Section
const QuizSection = ({ onFinish, setActiveTab }) => {
  const [step, setStep] = useState('register');
  const [student, setStudent] = useState({ name: '', absen: '', kelas: '' });
  const [currentQ, setCurrentQ] = useState(0);
  const [answers, setAnswers] = useState({});
  const [score, setScore] = useState(0);
  const [isSubmitting, setIsSubmitting] = useState(false);

  const handleRegister = (e) => {
    e.preventDefault();
    if(student.name && student.absen && student.kelas) setStep('quiz');
  };

  const calculateScore = async () => {
    let correct = 0;
    questions.forEach(q => { if (answers[q.id] === q.answer) correct++; });
    const finalScore = Math.round((correct / questions.length) * 100);
    setScore(finalScore);
    
    // Mulai Proses Submit ke Google Sheet
    setIsSubmitting(true);
    
    const dataToSend = {
      nama: student.name,
      kelas: student.kelas,
      absen: student.absen,
      nilai: finalScore,
      jawaban_benar: correct,
      total_soal: questions.length
    };

    try {
      await fetch(GOOGLE_SCRIPT_URL, {
        method: 'POST',
        mode: 'no-cors', // Penting untuk menghindari error CORS dari Google Apps Script
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(dataToSend)
      });
      // Karena mode no-cors, kita tidak bisa membaca respons, tapi asumsi sukses jika tidak ada error network
    } catch (error) {
      console.error("Gagal mengirim nilai ke Google Sheet", error);
      // Tetap lanjut ke halaman hasil meskipun gagal kirim, agar siswa tidak stuck
    }

    setIsSubmitting(false);
    setStep('result');
    onFinish({ ...student, score: finalScore, date: new Date().toISOString() });
  };

  if (step === 'register') return (
    <div className="max-w-xl mx-auto animate-fade-in">
      <div className="card-shine bg-white p-8 rounded-3xl shadow-xl">
        <div className="text-center mb-8">
          <div className="w-20 h-20 bg-gradient-to-br from-red-500 to-red-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg text-white">
            <User size={32} />
          </div>
          <h2 className="font-raleway text-3xl font-bold text-gray-800">Uji Pemahaman</h2>
          <p className="text-gray-500 mt-2">Isi data diri untuk memulai kuis 25 soal.</p>
        </div>
        <form onSubmit={handleRegister} className="space-y-4">
          <div>
            <label className="block text-gray-700 font-bold mb-2">Nama Lengkap</label>
            <input required type="text" className="w-full border-2 border-gray-200 p-3 rounded-xl focus:border-red-500 outline-none transition" 
              value={student.name} onChange={e => setStudent({...student, name: e.target.value})} placeholder="Contoh: Budi Santoso" />
          </div>
          <div>
            <label className="block text-gray-700 font-bold mb-2">No. Absen</label>
            <input required type="number" className="w-full border-2 border-gray-200 p-3 rounded-xl focus:border-red-500 outline-none transition" 
              value={student.absen} onChange={e => setStudent({...student, absen: e.target.value})} placeholder="Contoh: 12" />
          </div>
          <div>
            <label className="block text-gray-700 font-bold mb-2">Kelas</label>
            <select required className="w-full border-2 border-gray-200 p-3 rounded-xl focus:border-red-500 outline-none transition bg-white"
              value={student.kelas} onChange={e => setStudent({...student, kelas: e.target.value})}>
              <option value="">-- Pilih Kelas --</option>
              {classOptions.map(opt => <option key={opt} value={opt}>{opt}</option>)}
            </select>
          </div>
          <button type="submit" className="w-full gradient-primary text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl hover:scale-105 transition-all mt-6">
            ğŸš€ Mulai Ujian
          </button>
        </form>
      </div>
    </div>
  );

  if (step === 'quiz') return (
    <div className="max-w-3xl mx-auto animate-fade-in">
      <div className="card-shine bg-white p-6 rounded-2xl shadow-xl mb-6">
         <div className="flex justify-between items-center mb-2 font-bold text-gray-600 text-sm">
            <span>Soal {currentQ + 1} dari {questions.length}</span>
            <span>{student.name}</span>
         </div>
         <div className="w-full bg-gray-200 rounded-full h-3">
            <div className="bg-red-600 h-3 rounded-full transition-all duration-500" style={{ width: `${((currentQ + 1) / questions.length) * 100}%` }}></div>
         </div>
      </div>

      <div className="card-shine bg-white p-8 rounded-3xl shadow-xl min-h-[400px] flex flex-col justify-between">
        <div>
          <h3 className="font-raleway text-xl md:text-2xl font-bold text-gray-800 mb-6 leading-relaxed">
            {questions[currentQ].id}. {questions[currentQ].question}
          </h3>
          <div className="space-y-3">
            {questions[currentQ].options.map((option, idx) => (
              <div key={idx} 
                onClick={() => setAnswers({...answers, [questions[currentQ].id]: option})}
                className={`quiz-option p-4 rounded-xl flex items-center space-x-3 ${answers[questions[currentQ].id] === option ? 'selected' : ''}`}
              >
                <div className={`w-8 h-8 rounded-full flex items-center justify-center font-bold ${answers[questions[currentQ].id] === option ? 'bg-red-600 text-white' : 'bg-gray-200 text-gray-600'}`}>
                  {String.fromCharCode(65 + idx)}
                </div>
                <span className="text-gray-700 font-medium">{option}</span>
              </div>
            ))}
          </div>
        </div>
        <div className="flex justify-between mt-8 pt-6 border-t border-gray-100">
           <button onClick={() => setCurrentQ(Math.max(0, currentQ - 1))} disabled={currentQ === 0 || isSubmitting}
             className="px-6 py-3 rounded-xl font-bold text-gray-500 hover:bg-gray-100 disabled:opacity-50">
             â† Sebelumnya
           </button>
           {currentQ < questions.length - 1 ? (
             <button onClick={() => setCurrentQ(currentQ + 1)} disabled={!answers[questions[currentQ].id]}
               className="gradient-primary text-white px-8 py-3 rounded-xl font-bold shadow-lg disabled:opacity-50 disabled:cursor-not-allowed">
               Selanjutnya â†’
             </button>
           ) : (
             <button onClick={calculateScore} disabled={!answers[questions[currentQ].id] || isSubmitting}
               className="bg-blue-600 text-white px-8 py-3 rounded-xl font-bold shadow-lg hover:bg-blue-700 flex items-center justify-center min-w-[200px]">
               {isSubmitting ? (
                 <>
                   <Loader2 className="w-5 h-5 animate-spin mr-2" />
                   Menyimpan...
                 </>
               ) : (
                 'Selesai & Lihat Nilai'
               )}
             </button>
           )}
        </div>
      </div>
    </div>
  );

  return (
    <div className="max-w-xl mx-auto text-center animate-fade-in">
      <div className="card-shine bg-white p-8 rounded-3xl shadow-2xl">
        <div className="text-8xl mb-4 animate-bounce-in">{score >= 80 ? 'ğŸ†' : score >= 60 ? 'ğŸ‘' : 'ğŸ“š'}</div>
        <h2 className="font-raleway text-3xl font-bold text-gray-800 mb-2">Hasil Ujian</h2>
        <p className="text-gray-500 mb-6">Terima kasih {student.name}, hasilmu sudah tersimpan.</p>
        
        <div className={`bg-gradient-to-br ${score >= 75 ? 'from-green-500 to-green-600' : 'from-orange-500 to-orange-600'} text-white p-8 rounded-2xl shadow-xl mb-8`}>
          <div className="text-6xl font-bold mb-2">{score}</div>
          <div className="text-xl font-medium">Nilai Akhir</div>
        </div>

        <div className="grid grid-cols-2 gap-4 mb-6 text-left">
           <div className="bg-gray-50 p-4 rounded-xl">
              <span className="text-xs text-gray-500 font-bold uppercase">Kelas</span>
              <p className="font-bold text-gray-800">{student.kelas}</p>
           </div>
           <div className="bg-gray-50 p-4 rounded-xl">
              <span className="text-xs text-gray-500 font-bold uppercase">Absen</span>
              <p className="font-bold text-gray-800">{student.absen}</p>
           </div>
        </div>

        <button onClick={() => setActiveTab('Nilai Siswa')} className="w-full bg-blue-600 text-white py-4 rounded-xl font-bold shadow-lg hover:bg-blue-700 transition mb-3">
          ğŸ“Š Lihat Rekap Nilai
        </button>
        <button onClick={() => {setStep('register'); setAnswers({}); setScore(0);}} className="w-full text-gray-500 font-bold py-3 hover:bg-gray-50 rounded-xl">
          ğŸ”„ Ulangi Ujian
        </button>
      </div>
    </div>
  );
};

// 5. Nilai Table Section
const NilaiSection = ({ data }) => {
  const [filterClass, setFilterClass] = useState('');
  
  const filteredData = useMemo(() => {
    if (!filterClass) return data;
    return data.filter(item => item.kelas === filterClass);
  }, [data, filterClass]);

  return (
    <div className="animate-fade-in max-w-5xl mx-auto">
      <div className="text-center mb-8">
        <h2 className="font-raleway text-3xl md:text-4xl font-bold text-gray-800 mb-3">ğŸ† Rekapitulasi Nilai</h2>
        <p className="text-gray-600">Daftar hasil pengerjaan siswa</p>
      </div>

      <div className="card-shine bg-white rounded-2xl shadow-xl overflow-hidden">
        {/* Toolbar */}
        <div className="p-4 bg-gray-50 border-b flex flex-col md:flex-row justify-between items-center gap-4">
           <div className="flex items-center space-x-2 w-full md:w-auto">
             <span className="font-bold text-gray-600">Filter:</span>
             <select className="border p-2 rounded-lg outline-none flex-1" value={filterClass} onChange={(e) => setFilterClass(e.target.value)}>
               <option value="">Semua Kelas</option>
               {classOptions.map(opt => <option key={opt} value={opt}>{opt}</option>)}
             </select>
           </div>
        </div>

        {/* Table */}
        <div className="overflow-x-auto">
          <table className="w-full">
            <thead className="gradient-primary text-white">
              <tr>
                <th className="px-6 py-4 text-left font-bold text-sm">No</th>
                <th className="px-6 py-4 text-left font-bold text-sm">Nama</th>
                <th className="px-6 py-4 text-left font-bold text-sm">Kelas</th>
                <th className="px-6 py-4 text-left font-bold text-sm">Absen</th>
                <th className="px-6 py-4 text-left font-bold text-sm">Nilai</th>
                <th className="px-6 py-4 text-left font-bold text-sm">Tanggal</th>
              </tr>
            </thead>
            <tbody className="divide-y divide-gray-100">
              {filteredData.length > 0 ? (
                filteredData.map((row, idx) => (
                  <tr key={idx} className="hover:bg-red-50 transition">
                    <td className="px-6 py-4 text-sm text-gray-500">{idx + 1}</td>
                    <td className="px-6 py-4 font-bold text-gray-800">{row.name}</td>
                    <td className="px-6 py-4 text-sm text-gray-600"><span className="bg-gray-100 px-2 py-1 rounded">{row.kelas}</span></td>
                    <td className="px-6 py-4 text-sm text-gray-600">{row.absen}</td>
                    <td className="px-6 py-4 font-bold">
                       <span className={`${row.score >= 75 ? 'text-green-600' : 'text-red-600'}`}>{row.score}</span>
                    </td>
                    <td className="px-6 py-4 text-sm text-gray-500">{new Date(row.date).toLocaleDateString('id-ID')}</td>
                  </tr>
                ))
              ) : (
                <tr>
                  <td colSpan={6} className="px-6 py-12 text-center text-gray-400">
                    <div className="text-4xl mb-2">ğŸ“­</div>
                    Belum ada data nilai untuk ditampilkan.
                  </td>
                </tr>
              )}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  );
};

// --- MAIN APP COMPONENT ---

export default function MediaBelajarApp() {
  const [activeTab, setActiveTab] = useState('Beranda');
  const [isMenuOpen, setIsMenuOpen] = useState(false);
  
  // Local DB for Quiz Results (simulating database)
  const [quizResults, setQuizResults] = useState([
    // Dummy Data for Preview
    { name: "Siti Aminah", kelas: "X TKP A", absen: "20", score: 88, date: new Date().toISOString() },
    { name: "Budi Santoso", kelas: "X RPL B", absen: "05", score: 65, date: new Date(Date.now() - 86400000).toISOString() }
  ]);

  const handleQuizFinish = (result) => {
    setQuizResults([...quizResults, result]);
  };

  return (
    <div className="min-h-screen bg-gray-50 pb-12">
      <CustomStyles />
      <Header 
        activeTab={activeTab} 
        setActiveTab={setActiveTab} 
        toggleMenu={() => setIsMenuOpen(!isMenuOpen)}
        isMenuOpen={isMenuOpen}
      />

      <main className="container mx-auto px-4 pt-8">
        {activeTab === 'Beranda' && <HomeSection setActiveTab={setActiveTab} />}
        {activeTab === 'Materi' && <MateriSection setActiveTab={setActiveTab} />}
        {activeTab === 'Uji Pemahaman' && <QuizSection onFinish={handleQuizFinish} setActiveTab={setActiveTab} />}
        {activeTab === 'Nilai Siswa' && <NilaiSection data={quizResults} />}
      </main>
      
      <footer className="mt-20 border-t border-gray-200 py-8 text-center bg-white">
        <p className="text-gray-500 text-sm font-semibold">&copy; 2026 Media Pembelajaran IPAS - SMK. Letak Geografis Indonesia.</p>
        <p className="text-gray-400 text-xs mt-1">Dibuat dengan â¤ï¸ untuk Pendidikan Indonesia</p>
      </footer>
    </div>
  );
}
